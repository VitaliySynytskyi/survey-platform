<?xml version="1.0" encoding="UTF-8"?>
<svg width="1000px" height="700px" viewBox="0 0 1000 700" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
        <!-- Gradients -->
        <linearGradient id="clientGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#6EE7B7" offset="0%"></stop>
            <stop stop-color="#3B82F6" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="frontendGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#4361EE" offset="0%"></stop>
            <stop stop-color="#3A0CA3" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="gatewayGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#F72585" offset="0%"></stop>
            <stop stop-color="#7209B7" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="authGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#4CC9F0" offset="0%"></stop>
            <stop stop-color="#4361EE" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="surveyGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#4361EE" offset="0%"></stop>
            <stop stop-color="#3A0CA3" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="responseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#7209B7" offset="0%"></stop>
            <stop stop-color="#560BAD" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="postgresGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#3A0CA3" offset="0%"></stop>
            <stop stop-color="#3F37C9" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="mongoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#4CC9F0" offset="0%"></stop>
            <stop stop-color="#4361EE" offset="100%"></stop>
        </linearGradient>
        <linearGradient id="rabbitGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop stop-color="#F72585" offset="0%"></stop>
            <stop stop-color="#7209B7" offset="100%"></stop>
        </linearGradient>
        
        <!-- Filters -->
        <filter id="componentShadow" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="5"></feGaussianBlur>
            <feOffset dx="0" dy="4" result="offsetblur"></feOffset>
            <feComponentTransfer>
                <feFuncA type="linear" slope="0.3"></feFuncA>
            </feComponentTransfer>
            <feMerge>
                <feMergeNode></feMergeNode>
                <feMergeNode in="SourceGraphic"></feMergeNode>
            </feMerge>
        </filter>
        
        <!-- Markers for arrows -->
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#555" />
        </marker>
    </defs>
    
    <!-- Background -->
    <rect fill="#F7F9FC" x="0" y="0" width="1000" height="700"></rect>
    
    <!-- Title -->
    <text x="500" y="40" font-family="Arial, sans-serif" font-size="24" text-anchor="middle" fill="#333">
        Survey Platform Architecture
    </text>
    
    <!-- Client Layer -->
    <g transform="translate(30, 100)">
        <rect fill="#F0F7FF" x="0" y="0" width="940" height="120" rx="10"></rect>
        <text x="20" y="30" font-family="Arial, sans-serif" font-size="16" fill="#333">
            Client Layer
        </text>
        
        <!-- Web Browser -->
        <g transform="translate(100, 30)" filter="url(#componentShadow)">
            <rect fill="url(#clientGradient)" x="0" y="0" width="120" height="60" rx="8"></rect>
            <text x="60" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                Web Browser
            </text>
        </g>
        
        <!-- Mobile App -->
        <g transform="translate(320, 30)" filter="url(#componentShadow)">
            <rect fill="url(#clientGradient)" x="0" y="0" width="120" height="60" rx="8"></rect>
            <text x="60" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                Mobile App
            </text>
        </g>
        
        <!-- External API Clients -->
        <g transform="translate(540, 30)" filter="url(#componentShadow)">
            <rect fill="url(#clientGradient)" x="0" y="0" width="120" height="60" rx="8"></rect>
            <text x="60" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                API Clients
            </text>
        </g>
        
        <!-- Connection Lines -->
        <line x1="160" y1="90" x2="160" y2="140" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"></line>
        <line x1="380" y1="90" x2="380" y2="140" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"></line>
        <line x1="600" y1="90" x2="600" y2="140" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"></line>
    </g>
    
    <!-- Presentation Layer -->
    <g transform="translate(30, 240)">
        <rect fill="#F0F7FF" x="0" y="0" width="940" height="120" rx="10"></rect>
        <text x="20" y="30" font-family="Arial, sans-serif" font-size="16" fill="#333">
            Presentation Layer
        </text>
        
        <!-- Frontend Vue.js -->
        <g transform="translate(280, 30)" filter="url(#componentShadow)">
            <rect fill="url(#frontendGradient)" x="0" y="0" width="160" height="60" rx="8"></rect>
            <text x="80" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                Frontend (Vue.js)
            </text>
            <text x="80" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                Port: 80
            </text>
        </g>
        
        <!-- Connection Lines -->
        <line x1="360" y1="90" x2="360" y2="140" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
    </g>
    
    <!-- API Gateway Layer -->
    <g transform="translate(30, 380)">
        <rect fill="#F0F7FF" x="0" y="0" width="940" height="120" rx="10"></rect>
        <text x="20" y="30" font-family="Arial, sans-serif" font-size="16" fill="#333">
            API Gateway Layer
        </text>
        
        <!-- API Gateway -->
        <g transform="translate(280, 30)" filter="url(#componentShadow)">
            <rect fill="url(#gatewayGradient)" x="0" y="0" width="160" height="60" rx="8"></rect>
            <text x="80" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                API Gateway (Go)
            </text>
            <text x="80" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                Port: 8080
            </text>
        </g>
        
        <!-- Connection Lines -->
        <line x1="280" y1="60" x2="200" y2="140" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
        <line x1="360" y1="90" x2="360" y2="140" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
        <line x1="440" y1="60" x2="520" y2="140" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
    </g>
    
    <!-- Microservices Layer -->
    <g transform="translate(30, 520)">
        <rect fill="#F0F7FF" x="0" y="0" width="940" height="120" rx="10"></rect>
        <text x="20" y="30" font-family="Arial, sans-serif" font-size="16" fill="#333">
            Microservices Layer
        </text>
        
        <!-- Auth Service -->
        <g transform="translate(120, 30)" filter="url(#componentShadow)">
            <rect fill="url(#authGradient)" x="0" y="0" width="160" height="60" rx="8"></rect>
            <text x="80" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                Auth Service (Go)
            </text>
            <text x="80" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                Port: 8081
            </text>
        </g>
        
        <!-- Survey Service -->
        <g transform="translate(320, 30)" filter="url(#componentShadow)">
            <rect fill="url(#surveyGradient)" x="0" y="0" width="160" height="60" rx="8"></rect>
            <text x="80" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                Survey Service (Go)
            </text>
            <text x="80" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                Port: 8082
            </text>
        </g>
        
        <!-- Response Service -->
        <g transform="translate(520, 30)" filter="url(#componentShadow)">
            <rect fill="url(#responseGradient)" x="0" y="0" width="160" height="60" rx="8"></rect>
            <text x="80" y="35" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#FFF">
                Response Service (Go)
            </text>
            <text x="80" y="50" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                Port: 8083
            </text>
        </g>
    </g>
    
    <!-- Database Layer -->
    <g transform="translate(190, 660)">
        <rect fill="#F0F7FF" x="0" y="0" width="620" height="30" rx="8"></rect>
        <text x="310" y="20" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#333">
            Data Storage Layer
        </text>
        
        <!-- PostgreSQL -->
        <g transform="translate(-70, -20)" filter="url(#componentShadow)">
            <circle fill="url(#postgresGradient)" cx="175" cy="70" r="35"></circle>
            <text x="175" y="65" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                PostgreSQL
            </text>
            <text x="175" y="80" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#FFF">
                5432
            </text>
        </g>
        
        <!-- MongoDB -->
        <g transform="translate(220, -20)" filter="url(#componentShadow)">
            <circle fill="url(#mongoGradient)" cx="175" cy="70" r="35"></circle>
            <text x="175" y="65" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                MongoDB
            </text>
            <text x="175" y="80" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#FFF">
                27017
            </text>
        </g>
        
        <!-- RabbitMQ -->
        <g transform="translate(75, -130)" filter="url(#componentShadow)">
            <rect fill="url(#rabbitGradient)" x="175" y="70" width="120" height="50" rx="8"></rect>
            <text x="235" y="95" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#FFF">
                RabbitMQ
            </text>
            <text x="235" y="110" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#FFF">
                5672, 15672
            </text>
        </g>
        
        <!-- Database Connection Lines -->
        <line x1="105" y1="50" x2="170" y2="-30" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
        <line x1="305" y1="50" x2="235" y2="-30" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
        <line x1="505" y1="50" x2="395" y2="-30" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
        
        <!-- RabbitMQ Connection Lines -->
        <line x1="200" y1="-70" x2="235" y2="-130" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"></line>
        <line x1="400" y1="-70" x2="300" y2="-130" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"></line>
        <line x1="600" y1="-70" x2="335" y2="-130" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"></line>
    </g>
    
    <!-- Legend -->
    <g transform="translate(800, 600)">
        <rect fill="white" x="0" y="0" width="170" height="80" rx="5" stroke="#DDD" stroke-width="1"></rect>
        <text x="10" y="20" font-family="Arial, sans-serif" font-size="12" fill="#333">Legend:</text>
        
        <line x1="10" y1="35" x2="30" y2="35" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"></line>
        <text x="45" y="40" font-family="Arial, sans-serif" font-size="12" fill="#555">HTTP/JSON</text>
        
        <line x1="10" y1="60" x2="30" y2="60" stroke="#555" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"></line>
        <text x="45" y="65" font-family="Arial, sans-serif" font-size="12" fill="#555">Events/Messages</text>
    </g>
</svg> 